layout: default
---

<nav class="breadcrumbs" aria-label="Breadcrumb">
  <a href="{{ '/' | relative_url }}">Home</a>
  {% if page.category %}
  <a href="{{ '/' | relative_url }}?category={{ page.category | uri_escape }}">{{ page.category | capitalize }}</a>
  {% endif %}
  <span aria-current="page">{{ page.title }}</span>
  </nav>

<div class="product-detail">
  <div class="product-detail-media">
    {% if page.image %}
    {% assign base = page.image | replace: '.png','' %}
    <picture>
      <source type="image/avif" srcset="{{ base | append: '-300.avif' | relative_url }} 300w, {{ base | append: '-600.avif' | relative_url }} 600w, {{ base | append: '.avif' | relative_url }}" sizes="(max-width: 800px) 100vw, 600px">
      <source type="image/webp" srcset="{{ base | append: '-300.webp' | relative_url }} 300w, {{ base | append: '-600.webp' | relative_url }} 600w, {{ base | append: '.webp' | relative_url }}" sizes="(max-width: 800px) 100vw, 600px">
      <img src="{{ page.image | relative_url }}" alt="{{ page.title }} product image" loading="lazy" width="600" height="600" style="max-width:100%;height:auto;object-fit:cover;" srcset="{{ base | append: '-300.png' | relative_url }} 300w, {{ base | append: '-600.png' | relative_url }} 600w, {{ page.image | relative_url }}" sizes="(max-width: 800px) 100vw, 600px">
    </picture>
    {% endif %}
  </div>
  <div class="product-detail-info">
     <h1>
       {{ page.title }}
       {% assign stock_val = page.stock | default: 1 %}
       {% if stock_val == 0 %}
       <span class="badge out-stock" title="Currently unavailable">Out of Stock</span>
       {% else %}
       <span class="badge in-stock" title="Available now">In Stock</span>
       {% endif %}
     </h1>
     {% if page.price %}
       {% if page.sale_price and page.price and page.sale_price < page.price and page | is_on_sale %}
       {% assign discount_pct = page.price | calculate_discount: page.sale_price %}
       {% assign savings_txt = page.price | format_savings: page.sale_price %}
       <div class="price-block sale-active">
         <p class="price current">{{ page.sale_price | format_price }}</p>
         <p class="price original"><s>{{ page.price | format_price }}</s></p>
         <p class="price-meta">
           <span class="discount">{{ discount_pct }}% OFF</span>
           <span class="savings">{{ savings_txt }}</span>
         </p>
          {% if page.sale_start or page.sale_end %}
          <p class="sale-dates">
            {% if page.sale_start %}Starts: {{ page.sale_start | date: '%-d %b %Y' }}{% endif %}
            {% if page.sale_start and page.sale_end %} Â· {% endif %}
            {% if page.sale_end %}Ends: {{ page.sale_end | date: '%-d %b %Y' }}{% endif %}
          </p>
          {% endif %}
       </div>
       {% else %}
       <p class="price">{{ page.price | format_price }}</p>
       {% endif %}
     {% endif %}

     {% if page.short_description %}
     <p class="product-summary">{{ page.short_description }}</p>
     {% endif %}

    <a href="https://wa.me/{{ site.whatsapp_phone }}?text={{ page.whatsapp_message | uri_escape }}" target="_blank" class="whatsapp-btn whatsapp-btn-detail">
      ORDER ON WHATSAPP
    </a>
    <div class="product-sections">
      {% assign product_content = page.long_description | markdownify %}
      {% if product_content == nil or product_content == empty %}
        {% assign product_content = content %}
      {% endif %}

      {% if product_content and product_content != empty %}
      <section class="product-section">
        <h2>Overview</h2>
        <div class="expandable" id="overview">
          {{ product_content }}
          <div class="fade-mask" aria-hidden="true"></div>
        </div>
        <button class="expand-toggle" data-target="overview" aria-expanded="false" aria-controls="overview">Explore more</button>
      </section>
      {% endif %}

      {% if page.key_features %}
      <section class="product-section">
        <h2>Key Features</h2>
        <ul class="features-list">
          {% for f in page.key_features %}
          <li>{{ f }}</li>
          {% endfor %}
        </ul>
      </section>
      {% endif %}

      {% if page.specs %}
      <section class="product-section">
        <h2>Specifications</h2>
        <dl class="specs-grid">
          {% if page.specs.first and page.specs.first.label %}
            {% for s in page.specs %}
            <div class="spec-row"><dt>{{ s.label }}</dt><dd>{{ s.value }}</dd></div>
            {% endfor %}
          {% else %}
            {% for item in page.specs %}
            <div class="spec-row"><dt>{{ item[0] }}</dt><dd>{{ item[1] }}</dd></div>
            {% endfor %}
          {% endif %}
        </dl>
      </section>
      {% endif %}
    </div>
  </div>
</div>

{% assign related_all = site.products | where: 'category', page.category %}
{% assign related = related_all | where_exp: 'p', 'p.url != page.url' %}
{% if related and related.size > 0 %}
<section class="related-section">
  <h2>Related Products</h2>
  <div class="related-grid">
    {% for r in related limit:4 %}
    <a class="related-card" href="{{ r.url | relative_url }}" aria-label="View {{ r.title }}">
      <div class="image-container">
        {% if r.image %}
        {% assign base = r.image | replace: '.png','' %}
        <picture>
          <source type="image/avif" srcset="{{ base | append: '-300.avif' | relative_url }} 300w, {{ base | append: '-600.avif' | relative_url }} 600w, {{ base | append: '.avif' | relative_url }}" sizes="(max-width: 600px) 50vw, 200px">
          <source type="image/webp" srcset="{{ base | append: '-300.webp' | relative_url }} 300w, {{ base | append: '-600.webp' | relative_url }} 600w, {{ base | append: '.webp' | relative_url }}" sizes="(max-width: 600px) 50vw, 200px">
          <img src="{{ r.image | relative_url }}" alt="{{ r.title }} related product image" loading="lazy" width="200" height="200" style="width:100%;height:100%;object-fit:cover;" srcset="{{ base | append: '-300.png' | relative_url }} 300w, {{ base | append: '-600.png' | relative_url }} 600w, {{ r.image | relative_url }}" sizes="(max-width: 600px) 50vw, 200px">
        </picture>
        {% else %}
        <div class="placeholder-image" aria-label="No image available"></div>
        {% endif %}
      </div>
      <div class="related-info">
        <div class="related-title">{{ r.title }}</div>
        <div class="related-meta">
          {% if r.sale_price and r.price and r.sale_price < r.price and r | is_on_sale %}
            <span class="price sale">{{ r.sale_price | format_price }}</span>
            <span class="price original"><s>{{ r.price | format_price }}</s></span>
            <span class="price discount">{{ r.price | calculate_discount: r.sale_price }}% OFF</span>
          {% else %}
            <span class="price">{{ r.price | format_price }}</span>
          {% endif %}
        </div>
      </div>
    </a>
    {% endfor %}
  </div>
</section>
{% endif %}

<script type="application/ld+json">
{
  "@context": "https://schema.org/",
  "@type": "Product",
  "name": {{ page.title | jsonify }},
  {% if page.brand %}
  "brand": { "@type": "Brand", "name": {{ page.brand | jsonify }} },
  {% endif %}
  {% if page.image %}
  "image": [{{ page.image | relative_url | jsonify }}],
  {% endif %}
  {% if page.price %}
  "offers": {
    "@type": "Offer",
    "priceCurrency": "TZS",
    "price": {{ page.price | jsonify }},
    "availability": "https://schema.org/{% if stock_val == 0 %}OutOfStock{% else %}InStock{% endif %}",
    "url": {{ page.url | relative_url | jsonify }}
  }
  {% endif %}
}
</script>

{% include trust.html %}

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": {{ '/' | relative_url | absolute_url | jsonify }}
    }{% if page.category %},
    {
      "@type": "ListItem",
      "position": 2,
      "name": {{ page.category | capitalize | jsonify }},
      "item": {{ '/' | relative_url | append: '?category=' | append: page.category | absolute_url | jsonify }}
    }{% endif %},
    {
      "@type": "ListItem",
      "position": {% if page.category %}3{% else %}2{% endif %},
      "name": {{ page.title | jsonify }},
      "item": {{ page.url | relative_url | absolute_url | jsonify }}
    }
  ]
}
</script>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const toggles = document.querySelectorAll('.expand-toggle');
    toggles.forEach(btn => {
      btn.addEventListener('click', function() {
        const id = this.getAttribute('data-target');
        const target = document.getElementById(id);
        if (!target) return;
        const expanded = this.getAttribute('aria-expanded') === 'true';
        this.setAttribute('aria-expanded', String(!expanded));
        target.classList.toggle('is-expanded');
        this.textContent = expanded ? 'Explore more' : 'Show less';
      });
    });
  });
  </script>
